<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script type="module" src="tours.ts"></script>
    <link rel="stylesheet" href="tours.scss">
    <title>Gastronomia</title>
  </head>

  <body>

    <!-- VODIC VIEW - Tabela i forma -->
    <div id="guideView" style="display: none;">
      <h2>Tours Management</h2>
      <hr>
      <table id="toursTable">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Max Guests</th>
            <th>Date and Time</th>
            <th>Status</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody id="toursTBody"></tbody>
      </table>

      <div id="addTour">
        <form id="tourForm">
              <label for="name">Name:</label>
              <input type="text" id="name" name="name" required>

              <label for="description">Description:</label>
              <textarea id="description" name="description" required></textarea>
              <div id="descriptionCounter" style="font-size: 0.9em; color: #666;">0 / 250 karaktera</div>
              
              <label for="capacity">Max Guests:</label>
              <input type="number" id="capacity" name="capacity" required>

              <label for="dateTime">Date and Time:</label>
              <input type="datetime-local" id="dateTime" name="dateTime" required>

              <button type="button" id="addTourBtn">Add Tour</button>
              <button type="button" id="updateTourBtn" style="display: none;">Update Tour</button>
              <button type="button" id="publishTourBtn" style="display: none;" disabled>Publish Tour</button>
          </form>
      </div>

      <div id="keyPointsSection" style="display: none;">
        <h3>Key Points</h3>
        <div id="keyPointsList"></div>
        
        <button type="button" id="addKeyPointBtn">+ Add Key Point</button>
        
        <div id="keyPointForm" style="display: none;">
          <h4>New Key Point</h4>
          <label for="kpName">Name:</label>
          <input type="text" id="kpName" name="kpName" required>

          <label for="kpDescription">Description:</label>
          <textarea id="kpDescription" name="kpDescription" required></textarea>

          <label for="kpImageUrl">Image URL:</label>
          <input type="url" id="kpImageUrl" name="kpImageUrl" required>

          <label for="kpLatitude">Latitude:</label>
          <input type="number" id="kpLatitude" name="kpLatitude" step="any" required>

          <label for="kpLongitude">Longitude:</label>
          <input type="number" id="kpLongitude" name="kpLongitude" step="any" required>

          <div id="keyPointError" style="color: red; display: none;"></div>
          
          <button type="button" id="saveKeyPointBtn">Save Key Point</button>
          <button type="button" id="cancelKeyPointBtn">Cancel</button>
        </div>
      </div>
    </div>

    <!-- TURISTA VIEW - Kartice -->
    <div id="touristView" style="display: none;">
      <h2>Available Tours</h2>
      <hr>
      
      <!-- Kontrole za sortiranje i stranicenje -->
      <div class="tour-controls">
        <div class="sort-controls">
          <label for="sortDropdown">Sort by:</label>
          <select id="sortDropdown">
            <option value="Name">Name</option>
            <option value="DateTime">Date</option>
            <option value="MaxGuests">Max Guests</option>
          </select>

          <label for="orderDropdown">Order:</label>
          <select id="orderDropdown">
            <option value="ASC">Ascending</option>
            <option value="DESC">Descending</option>
          </select>
        </div>

        <div class="pagination-controls">
          <label for="pageSizeDropdown">Tours per page:</label>
          <select id="pageSizeDropdown">
            <option value="5">5</option>
            <option value="10" selected>10</option>
            <option value="20">20</option>
          </select>
        </div>
      </div>

      <!-- Kontejner za kartice -->
      <div id="toursCardsContainer"></div>

      <!-- Stranicenje -->
      <div class="pagination">
        <button id="prevPageBtn" disabled>Previous</button>
        <span id="pageInfo">Page 1 of 1</span>
        <button id="nextPageBtn">Next</button>
      </div>

      <!-- Modal za detalje ture -->
      <div id="tourDetailsModal" class="modal" style="display: none;">
        <div class="modal-content">
          <span class="close">&times;</span>
          <div id="tourDetailsContent"></div>
        </div>
      </div>
    </div>

  </body>
</html>